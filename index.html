<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Magic Carpet Game</title>
    <link rel="stylesheet" href="css/style.css">
    <style>
        /* Basic styles for loading/error states */
        body { display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; background-color: #000; }
        #loading-message { color: #eee; font-family: sans-serif; font-size: 20px; }
        /* The actual game UI styles are in css/style.css */
    </style>
</head>
<body>

    <!-- Game Canvas -->
    <canvas id="gameCanvas">
        Your browser does not support the HTML canvas element. Please upgrade your browser.
    </canvas>

    <!-- UI Overlay Elements -->
    <div id="audioOverlay">
        <canvas id="overlayCanvas"></canvas>
        <div class="overlay-content">
            <h1>Magic Carpet</h1>
            <h2>Desert Adventure</h2>
            <button id="startGameBtn">Start Game</button>
            <button id="startTestModeBtn">Start Test Mode</button>
        </div>
    </div>
    <div id="message"></div>
    <div id="instructions">Arrows/AD: Move | W/Up/Space: Fly/Jump | X: Attack | 1: Fireball (works in test mode too!) | 2: Lightning Bolt | R: New Level/Next | M: Mute</div>
    <div id="timer">0.00</div>
    <div id="livesDisplay">Lives: 3</div>
    <div id="orbShieldDisplay">Shield: 0</div>

    <!-- Loading Message (Hidden once JS runs) -->
    <div id="loading-message" style="display: none; position: absolute; color: white;">Loading Game...</div>

    <!-- JavaScript Entry Point -->
    <script type="module" src="js/main.js"></script>

    <!-- Fallback for browsers that don't support modules -->
    <noscript>
        <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: black; color: white; display: flex; justify-content: center; align-items: center; font-size: 24px; text-align: center; z-index: 100;">
            This game requires JavaScript and ES Modules support.<br>Please enable JavaScript or use a more modern browser.
        </div>
    </noscript>

</body>
</html>
